<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/logo.png"><title>Configuration validation | 魔法少女小圆-飞向星空</title><meta name="description" content="在经历了几个世纪的动荡之后，一个乌托邦式的 AI— 人类政府治理着地球，预示着后稀缺社会的来临和太空殖民的新时代。一次意外的接触却让科技更先进的敌对外星种族打破了和平，这迫使魔法少女们走出幕后，拯救人类文明。在这一切之中，志筑良子，一个普通的女孩，仰望着星空，好奇着她在宇宙中的归所。">
    <link rel="modulepreload" href="/assets/app.61d52ebc.js"><link rel="modulepreload" href="/assets/index.html.4193a4ce.js"><link rel="modulepreload" href="/assets/index.html.470a72ea.js"><link rel="prefetch" href="/assets/index.html.54701292.js"><link rel="prefetch" href="/assets/001-第一章-许愿.html.d1e9ba79.js"><link rel="prefetch" href="/assets/002-第二章-幻影.html.96cdef69.js"><link rel="prefetch" href="/assets/003-第三章-麻美观影记-上.html.c8ee3b6a.js"><link rel="prefetch" href="/assets/004-第四章-麻美观影记-下.html.51bca997.js"><link rel="prefetch" href="/assets/005-第五章-家人.html.2fa574f5.js"><link rel="prefetch" href="/assets/006-第六章-军队.html.63d62d41.js"><link rel="prefetch" href="/assets/007-第七章-南方组.html.e1a2a9b3.js"><link rel="prefetch" href="/assets/008-第八章-政与教.html.fdfb2e90.js"><link rel="prefetch" href="/assets/009-第九章-回声.html.6bd31b45.js"><link rel="prefetch" href="/assets/010-第十章-准将.html.a7ed9b85.js"><link rel="prefetch" href="/assets/011-第十一章-以往生活的残骸.html.83901959.js"><link rel="prefetch" href="/assets/012-第十二章-狩猎魔兽的人.html.75e98d62.js"><link rel="prefetch" href="/assets/013-第十三章-不对等的信息.html.35ba8fac.js"><link rel="prefetch" href="/assets/014-第十四章-血缘.html.df31d87e.js"><link rel="prefetch" href="/assets/015-第十五章-萨姆萨拉.html.5a57df4e.js"><link rel="prefetch" href="/assets/016-第十六章-属于天空的光芒.html.fa498732.js"><link rel="prefetch" href="/assets/index.html.c404cd4e.js"><link rel="prefetch" href="/assets/017-幕间-1-无间迷梦.html.30486c39.js"><link rel="prefetch" href="/assets/018-第十八章-落地.html.85ae8252.js"><link rel="prefetch" href="/assets/019-第十九章-回天.html.af9126a4.js"><link rel="prefetch" href="/assets/020-第二十章-相对论.html.b8914d9f.js"><link rel="prefetch" href="/assets/021-第二十一章-突变.html.0a898acf.js"><link rel="prefetch" href="/assets/022-第二十二章-变化的风向.html.de799799.js"><link rel="prefetch" href="/assets/023-第二十三章-失去的爱.html.84c644ff.js"><link rel="prefetch" href="/assets/024-第二十四章-历史学家.html.b5e0f12a.js"><link rel="prefetch" href="/assets/025-第二十五章-穿破天空.html.a75b12f5.js"><link rel="prefetch" href="/assets/026-第二十六章-红与绿的血.html.12d320b3.js"><link rel="prefetch" href="/assets/027-第二十七章-那些璀璨的明星.html.31e1e1d2.js"><link rel="prefetch" href="/assets/028-第二十八章-不屈吾魂.html.e2c61db6.js"><link rel="prefetch" href="/assets/029-第二十九章-救世之女.html.f2808085.js"><link rel="prefetch" href="/assets/030-第三十章-权力与使命.html.aa608d3c.js"><link rel="prefetch" href="/assets/031-第三十一章-爱的形式.html.f6c20285.js"><link rel="prefetch" href="/assets/032-第三十二章-选择与未来.html.1b3b9339.js"><link rel="prefetch" href="/assets/index.html.aa764efe.js"><link rel="prefetch" href="/assets/033-幕间-2-小玛德莱娜.html.bf2bd0e4.js"><link rel="prefetch" href="/assets/034-第三十四章-造就我们的那些羁绊.html.dcc2a431.js"><link rel="prefetch" href="/assets/035-第三十五章-伤亡.html.88630006.js"><link rel="prefetch" href="/assets/036-第三十六章-追逐幻影.html.7f6182b2.js"><link rel="prefetch" href="/assets/037-第三十七章-炽天使.html.b711a9af.js"><link rel="prefetch" href="/assets/038-第三十八章-把握今天.html.685fea10.js"><link rel="prefetch" href="/assets/039-第三十九章-无法愈合的伤痕.html.00dc6d85.js"><link rel="prefetch" href="/assets/040-第四十章-镜之彼端.html.72ee2438.js"><link rel="prefetch" href="/assets/041-第四十一章-因与果.html.d600f026.js"><link rel="prefetch" href="/assets/042-第四十二章-有光必有影.html.7db97a67.js"><link rel="prefetch" href="/assets/043-幕间-2.5-尘封的往事-上.html.27580255.js"><link rel="prefetch" href="/assets/044-幕间-2.5-尘封的往事-下.html.79d82878.js"><link rel="prefetch" href="/assets/045-第四十五章-带电的肉体.html.a9f640f9.js"><link rel="prefetch" href="/assets/046-第四十六章-轮中之轮.html.3b4665f3.js"><link rel="prefetch" href="/assets/047-第四十七章-光明之城.html.973777ab.js"><link rel="prefetch" href="/assets/048-第四十八章-知己知彼.html.79677a17.js"><link rel="prefetch" href="/assets/049-第四十九章-过渡态.html.207cf494.js"><link rel="prefetch" href="/assets/050-第五十章-玫瑰之下.html.46871db3.js"><link rel="prefetch" href="/assets/051-第五十一章-永恒的求索.html.0cbb40bc.js"><link rel="prefetch" href="/assets/052-第五十二章-我们是谁.html.2d6f0076.js"><link rel="prefetch" href="/assets/053-第五十三章-立场.html.4af81f81.js"><link rel="prefetch" href="/assets/054-第五十四章-永恒的青春.html.4dfaf19b.js"><link rel="prefetch" href="/assets/055-第五十五章-新视点.html.4bb8c9b5.js"><link rel="prefetch" href="/assets/056-第五十六章-脉冲星.html.f6ecd930.js"><link rel="prefetch" href="/assets/057-第五十七章-三相点.html.0c041577.js"><link rel="prefetch" href="/assets/058-第五十八章-托付信任.html.a25ceca2.js"><link rel="prefetch" href="/assets/059-第五十九章-室内游戏.html.b567758c.js"><link rel="prefetch" href="/assets/060-第六十章-数码预言.html.31c281c1.js"><link rel="prefetch" href="/assets/061-第六十一章-遁入虚空.html.b85e1d9a.js"><link rel="prefetch" href="/assets/062-第六十二章-消逝的光芒-上.html.16d4b9d3.js"><link rel="prefetch" href="/assets/063-第六十三章-消逝的光芒-下.html.f14d26e4.js"><link rel="prefetch" href="/assets/index.html.94329ada.js"><link rel="prefetch" href="/assets/064-1-幕间-3-昭昭天命-上.html.80e1f65c.js"><link rel="prefetch" href="/assets/064-2-幕间-3-昭昭天命-中.html.b9036bf0.js"><link rel="prefetch" href="/assets/064-3-幕间-3-昭昭天命-下.html.a826424d.js"><link rel="prefetch" href="/assets/index.html.24df4800.js"><link rel="prefetch" href="/assets/001-背景时间线.html.82fed668.js"><link rel="prefetch" href="/assets/002-角色设定-1.html.dd24294c.js"><link rel="prefetch" href="/assets/003-角色设定-2.html.41d1acbb.js"><link rel="prefetch" href="/assets/004-人物关系表.html.8206b85d.js"><link rel="prefetch" href="/assets/004-角色设定-3.html.11bd2f30.js"><link rel="prefetch" href="/assets/005-原作者参与的一些讨论.html.e4622ccf.js"><link rel="prefetch" href="/assets/006-组织介绍-执政体.html.2f52f594.js"><link rel="prefetch" href="/assets/006-读者问答.html.369cb56b.js"><link rel="prefetch" href="/assets/007-读者问答-2.html.85ceb02c.js"><link rel="prefetch" href="/assets/008-读者问答-3.html.4b1a1e20.js"><link rel="prefetch" href="/assets/009-组织介绍-魔法少女行会.html.7986b081.js"><link rel="prefetch" href="/assets/010-译名对照表.html.1ad60034.js"><link rel="prefetch" href="/assets/index.html.56e2559b.js"><link rel="prefetch" href="/assets/index.html.80498440.js"><link rel="prefetch" href="/assets/index.html.193fe24b.js"><link rel="prefetch" href="/assets/release.html.3861b045.js"><link rel="prefetch" href="/assets/AUTHORS.html.7db33b71.js"><link rel="prefetch" href="/assets/CODE_OF_CONDUCT.html.dfb64d8f.js"><link rel="prefetch" href="/assets/index.html.847cfb7f.js"><link rel="prefetch" href="/assets/SECURITY.html.5845e24f.js"><link rel="prefetch" href="/assets/index.html.e897d123.js"><link rel="prefetch" href="/assets/index.html.8dd606bc.js"><link rel="prefetch" href="/assets/index.html.e554ff2c.js"><link rel="prefetch" href="/assets/index.html.3d02999f.js"><link rel="prefetch" href="/assets/index.html.0c8d90ab.js"><link rel="prefetch" href="/assets/404.html.085922a4.js"><link rel="prefetch" href="/assets/index.html.ce765d13.js"><link rel="prefetch" href="/assets/001-第一章-许愿.html.141fd40a.js"><link rel="prefetch" href="/assets/002-第二章-幻影.html.964d529d.js"><link rel="prefetch" href="/assets/003-第三章-麻美观影记-上.html.4fd74a6b.js"><link rel="prefetch" href="/assets/004-第四章-麻美观影记-下.html.e8d06694.js"><link rel="prefetch" href="/assets/005-第五章-家人.html.1dd2931a.js"><link rel="prefetch" href="/assets/006-第六章-军队.html.1050d4b8.js"><link rel="prefetch" href="/assets/007-第七章-南方组.html.5ae8a6ed.js"><link rel="prefetch" href="/assets/008-第八章-政与教.html.159840d4.js"><link rel="prefetch" href="/assets/009-第九章-回声.html.b09b789b.js"><link rel="prefetch" href="/assets/010-第十章-准将.html.6ac8f9c1.js"><link rel="prefetch" href="/assets/011-第十一章-以往生活的残骸.html.66991336.js"><link rel="prefetch" href="/assets/012-第十二章-狩猎魔兽的人.html.f562ebca.js"><link rel="prefetch" href="/assets/013-第十三章-不对等的信息.html.2721585b.js"><link rel="prefetch" href="/assets/014-第十四章-血缘.html.2eb2d7ea.js"><link rel="prefetch" href="/assets/015-第十五章-萨姆萨拉.html.0e673a2a.js"><link rel="prefetch" href="/assets/016-第十六章-属于天空的光芒.html.71333ae9.js"><link rel="prefetch" href="/assets/index.html.33d07e5d.js"><link rel="prefetch" href="/assets/017-幕间-1-无间迷梦.html.df0ddf66.js"><link rel="prefetch" href="/assets/018-第十八章-落地.html.d5f9504b.js"><link rel="prefetch" href="/assets/019-第十九章-回天.html.abed3893.js"><link rel="prefetch" href="/assets/020-第二十章-相对论.html.4c78b414.js"><link rel="prefetch" href="/assets/021-第二十一章-突变.html.7018ea6a.js"><link rel="prefetch" href="/assets/022-第二十二章-变化的风向.html.39503f3e.js"><link rel="prefetch" href="/assets/023-第二十三章-失去的爱.html.4cbfdfc3.js"><link rel="prefetch" href="/assets/024-第二十四章-历史学家.html.d0eb95e1.js"><link rel="prefetch" href="/assets/025-第二十五章-穿破天空.html.5a348127.js"><link rel="prefetch" href="/assets/026-第二十六章-红与绿的血.html.e4e9f276.js"><link rel="prefetch" href="/assets/027-第二十七章-那些璀璨的明星.html.5ac1db45.js"><link rel="prefetch" href="/assets/028-第二十八章-不屈吾魂.html.852723bd.js"><link rel="prefetch" href="/assets/029-第二十九章-救世之女.html.fd74b337.js"><link rel="prefetch" href="/assets/030-第三十章-权力与使命.html.00bfcd51.js"><link rel="prefetch" href="/assets/031-第三十一章-爱的形式.html.5157d45d.js"><link rel="prefetch" href="/assets/032-第三十二章-选择与未来.html.4dc4a12e.js"><link rel="prefetch" href="/assets/index.html.da165ae4.js"><link rel="prefetch" href="/assets/033-幕间-2-小玛德莱娜.html.a7afc1be.js"><link rel="prefetch" href="/assets/034-第三十四章-造就我们的那些羁绊.html.81462701.js"><link rel="prefetch" href="/assets/035-第三十五章-伤亡.html.adfa8d3f.js"><link rel="prefetch" href="/assets/036-第三十六章-追逐幻影.html.d1600f80.js"><link rel="prefetch" href="/assets/037-第三十七章-炽天使.html.c07e284d.js"><link rel="prefetch" href="/assets/038-第三十八章-把握今天.html.5805ef7a.js"><link rel="prefetch" href="/assets/039-第三十九章-无法愈合的伤痕.html.3a87816e.js"><link rel="prefetch" href="/assets/040-第四十章-镜之彼端.html.7e2b8a85.js"><link rel="prefetch" href="/assets/041-第四十一章-因与果.html.7bbbb4e4.js"><link rel="prefetch" href="/assets/042-第四十二章-有光必有影.html.2c4b72bc.js"><link rel="prefetch" href="/assets/043-幕间-2.5-尘封的往事-上.html.5a52deda.js"><link rel="prefetch" href="/assets/044-幕间-2.5-尘封的往事-下.html.13d74e73.js"><link rel="prefetch" href="/assets/045-第四十五章-带电的肉体.html.01bec7bf.js"><link rel="prefetch" href="/assets/046-第四十六章-轮中之轮.html.b11dd39c.js"><link rel="prefetch" href="/assets/047-第四十七章-光明之城.html.6a1b8207.js"><link rel="prefetch" href="/assets/048-第四十八章-知己知彼.html.6632353b.js"><link rel="prefetch" href="/assets/049-第四十九章-过渡态.html.d5417fd3.js"><link rel="prefetch" href="/assets/050-第五十章-玫瑰之下.html.ea142e89.js"><link rel="prefetch" href="/assets/051-第五十一章-永恒的求索.html.e4dd3e52.js"><link rel="prefetch" href="/assets/052-第五十二章-我们是谁.html.57a43edd.js"><link rel="prefetch" href="/assets/053-第五十三章-立场.html.7743e229.js"><link rel="prefetch" href="/assets/054-第五十四章-永恒的青春.html.1b065bea.js"><link rel="prefetch" href="/assets/055-第五十五章-新视点.html.5069aa09.js"><link rel="prefetch" href="/assets/056-第五十六章-脉冲星.html.b0b8842b.js"><link rel="prefetch" href="/assets/057-第五十七章-三相点.html.b9ce73d5.js"><link rel="prefetch" href="/assets/058-第五十八章-托付信任.html.ef0d6bcb.js"><link rel="prefetch" href="/assets/059-第五十九章-室内游戏.html.0c05bf50.js"><link rel="prefetch" href="/assets/060-第六十章-数码预言.html.8ab3408d.js"><link rel="prefetch" href="/assets/061-第六十一章-遁入虚空.html.f197978d.js"><link rel="prefetch" href="/assets/062-第六十二章-消逝的光芒-上.html.6fe3b559.js"><link rel="prefetch" href="/assets/063-第六十三章-消逝的光芒-下.html.e6f39385.js"><link rel="prefetch" href="/assets/index.html.e9f117d3.js"><link rel="prefetch" href="/assets/064-1-幕间-3-昭昭天命-上.html.2aad7dd8.js"><link rel="prefetch" href="/assets/064-2-幕间-3-昭昭天命-中.html.823365f1.js"><link rel="prefetch" href="/assets/064-3-幕间-3-昭昭天命-下.html.82a24eed.js"><link rel="prefetch" href="/assets/index.html.f4249e36.js"><link rel="prefetch" href="/assets/001-背景时间线.html.69b1fe18.js"><link rel="prefetch" href="/assets/002-角色设定-1.html.63a6bc35.js"><link rel="prefetch" href="/assets/003-角色设定-2.html.0498383f.js"><link rel="prefetch" href="/assets/004-人物关系表.html.6caf4e04.js"><link rel="prefetch" href="/assets/004-角色设定-3.html.ecce302b.js"><link rel="prefetch" href="/assets/005-原作者参与的一些讨论.html.4218a670.js"><link rel="prefetch" href="/assets/006-组织介绍-执政体.html.8b38eb91.js"><link rel="prefetch" href="/assets/006-读者问答.html.8a680a41.js"><link rel="prefetch" href="/assets/007-读者问答-2.html.081f7253.js"><link rel="prefetch" href="/assets/008-读者问答-3.html.dacd7f6d.js"><link rel="prefetch" href="/assets/009-组织介绍-魔法少女行会.html.80b9e4fb.js"><link rel="prefetch" href="/assets/010-译名对照表.html.6f4c5245.js"><link rel="prefetch" href="/assets/index.html.05c3a2e1.js"><link rel="prefetch" href="/assets/index.html.acacd654.js"><link rel="prefetch" href="/assets/index.html.266e8434.js"><link rel="prefetch" href="/assets/release.html.bb672725.js"><link rel="prefetch" href="/assets/AUTHORS.html.78dfc850.js"><link rel="prefetch" href="/assets/CODE_OF_CONDUCT.html.11df215b.js"><link rel="prefetch" href="/assets/index.html.f7548387.js"><link rel="prefetch" href="/assets/SECURITY.html.3c1fb7f8.js"><link rel="prefetch" href="/assets/index.html.09a4a79e.js"><link rel="prefetch" href="/assets/index.html.c9282429.js"><link rel="prefetch" href="/assets/index.html.d357bd72.js"><link rel="prefetch" href="/assets/index.html.3955c00f.js"><link rel="prefetch" href="/assets/index.html.30c46a0c.js"><link rel="prefetch" href="/assets/404.html.f0dee1e3.js">
    <link rel="stylesheet" href="/assets/style.a454ec66.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container no-sidebar"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name can-hide">魔法少女小圆-飞向星空</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--[--><!----><!--]--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/books/01/" class="" aria-label="第一卷-量子纠缠"><!--[--><!--]--> 第一卷-量子纠缠 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/books/02/" class="" aria-label="第二卷-宇宙膨胀"><!--[--><!--]--> 第二卷-宇宙膨胀 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/books/03/" class="" aria-label="第三卷-存在悖论"><!--[--><!--]--> 第三卷-存在悖论 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/books/04/" class="" aria-label="第四卷-爱因斯坦-罗森桥"><!--[--><!--]--> 第四卷-爱因斯坦-罗森桥 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/books/99/" class="" aria-label="番外"><!--[--><!--]--> 番外 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/liuli-moe/to-the-stars" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/books/01/" class="" aria-label="第一卷-量子纠缠"><!--[--><!--]--> 第一卷-量子纠缠 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/books/02/" class="" aria-label="第二卷-宇宙膨胀"><!--[--><!--]--> 第二卷-宇宙膨胀 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/books/03/" class="" aria-label="第三卷-存在悖论"><!--[--><!--]--> 第三卷-存在悖论 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/books/04/" class="" aria-label="第四卷-爱因斯坦-罗森桥"><!--[--><!--]--> 第四卷-爱因斯坦-罗森桥 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/books/99/" class="" aria-label="番外"><!--[--><!--]--> 番外 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/liuli-moe/to-the-stars" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><!----><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="configuration-validation" tabindex="-1" data-s="27547"><a class="header-anchor" href="#configuration-validation" aria-hidden="true">#</a> Configuration validation</h1><p data-s="27548">The files in this directory define and validate the configuration that is read from a <code>wrangler.toml</code> file.</p><p data-s="27549">The configuration for a Worker is complicated since we can define different &quot;environments&quot;, and each environment can have its own configuration.<br> There is a default (&quot;top-level&quot;) environment and then named environments that provide environment specific configuration.</p><p data-s="27550">This is further complicated by the fact that there are three kinds of environment configuration:</p><ul data-s="27551"><li><strong>non-overridable</strong>: these values are defined once in the top-level configuration, apply to all environments and cannot be overridden by an environment.</li><li><strong>inheritable</strong>: these values can be defined at the top-level but can also be overridden by environment specific values.<br> Named environments do not need to provide their own values, in which case they inherit the value from the top-level.</li><li><strong>non-inheritable</strong>: these values must be explicitly defined in each environment if they are defined at the top-level.<br> Named environments do not inherit such configuration and must provide their own values.</li></ul><p data-s="27552">All configuration values in <code>wrangler.toml</code> are optional and will receive a default value if not defined.</p><h2 id="types" tabindex="-1" data-s="27553"><a class="header-anchor" href="#types" aria-hidden="true">#</a> Types</h2><h3 id="environment" tabindex="-1" data-s="27554"><a class="header-anchor" href="#environment" aria-hidden="true">#</a> Environment</h3><p data-s="27555">The fields that can be defined within the <code>env</code> containers are defined in the <a href="./environment.ts"><code>Environment</code></a> type.<br> This includes the <code>EnvironmentInheritable</code> and <code>EnvironmentNonInheritable</code> fields.</p><h3 id="config" tabindex="-1" data-s="27556"><a class="header-anchor" href="#config" aria-hidden="true">#</a> Config</h3><p data-s="27557">The &quot;non-overridable&quot; types are defined in the <a href="./config.ts"><code>ConfigFields</code></a> type.<br> The <code>Config</code> type is the overall configuration, which consists of the <code>ConfigFields</code> and also an <code>Environment</code>.<br> In this case the <code>Environment</code>, here, corresponds to the &quot;currently active&quot; environment. This is specified by the <code>--env</code> command line argument.<br> If there is no argument passed then the currently active environment is the &quot;top-level&quot; environment.<br> The fields in <code>Config</code> and <code>Environment</code> are not generally optional and so you can expect they have been filled with suitable inherited or default values.<br> These types should be used when you are working with fields that should be passed to commands.</p><h3 id="rawconfig" tabindex="-1" data-s="27558"><a class="header-anchor" href="#rawconfig" aria-hidden="true">#</a> RawConfig</h3><p data-s="27559">The <code>RawConfig</code> type is a version of <code>Config</code>, where all the fields are optional.<br> The <code>RawConfig</code> type includes <code>DeprecatedConfigFields</code> and <code>EnvironmentMap</code>.<br> It also extends the <code>RawEnvironment</code> type, which is a version of <code>Environment</code> where all the fields are optional.<br> These optional fields map to the actual fields found in the <code>wrangler.toml</code>.<br> These types should be used when you are working with raw configuration that is read or will be written to a <code>wrangler.toml</code>.</p><h2 id="validation" tabindex="-1" data-s="27560"><a class="header-anchor" href="#validation" aria-hidden="true">#</a> Validation</h2><p data-s="27561">Validation is triggered by passing a <code>RawConfig</code> object, and the active environment name, to the <code>normalizeAndValidateConfig()</code> function.<br> This function will return:</p><ul data-s="27562"><li>a <code>Config</code> object, where all the fields have suitable valid values</li><li>a <code>Diagnostics</code> object, which contains any errors or warnings from the validation process</li></ul><p data-s="27563">The field values may have been parsed directly from the <code>RawConfig</code>, inherited into a named environment from the top-level environment, or given a default value.<br> Generally, if there are any warnings they should be presented to the user via <code>logger.warn()</code> messages,<br> and if there are any errors then an <code>Error</code> should be thrown describing these errors.</p><p data-s="27564">The <code>Diagnostics</code> object is hierarchical: each <code>Diagnostics</code> instance can contain a collection of child <code>Diagnostics</code> instance.<br> When checking for or rendering warnings and errors, the <code>Diagnostics</code> class will automatically traverse down to all its children.</p><h2 id="usage" tabindex="-1" data-s="27565"><a class="header-anchor" href="#usage" aria-hidden="true">#</a> Usage</h2><p data-s="27566">The <a href="./index.ts">high level API</a> for configuration processing consists of the <code>findWranglerToml()</code> and <code>readConfig()</code> functions.</p><h3 id="readconfig" tabindex="-1" data-s="27567"><a class="header-anchor" href="#readconfig" aria-hidden="true">#</a> readConfig()</h3><p data-s="27568">The <code>readConfig()</code> function will find the nearest <code>wrangler.toml</code> file, load and parse it, then validate and normalize the values into a <code>Config</code> object.<br> Note that you should pass the current active environment name in as a parameter. The resulting <code>Config</code> object will contain only the fields appropriate to that environment.<br> If there are validation errors then it will throw a suitable error.</p><h2 id="changing-configuration" tabindex="-1" data-s="27569"><a class="header-anchor" href="#changing-configuration" aria-hidden="true">#</a> Changing configuration</h2><h3 id="add-a-new-configuration-field" tabindex="-1" data-s="27570"><a class="header-anchor" href="#add-a-new-configuration-field" aria-hidden="true">#</a> Add a new configuration field</h3><p data-s="27571">When a new field needs to be added to the <code>wrangler.toml</code> configuration you will need to add to the types and validation code in this directory.</p><p data-s="27572">Here are some steps that you should consider when doing this:</p><ul data-s="27573"><li>add the new field to one of the interface: <ul data-s="27574"><li>if the field is not overridable in an environment then add it to the <code>ConfigFields</code> interface.</li><li>if the field can be inherited and overridden in a named environment then add it to the <code>EnvironmentInheritable</code> interface.</li><li>if the field cannot be inherited and must be specified in each named environment then add it to the <code>EnvironmentNonInheritable</code> interface.</li></ul></li><li>if the field is experimental then add a call to the <code>experimental()</code> function: <ul data-s="27575"><li>if the field is now in the <code>ConfigDeprecated</code> interface then add the call to the <code>normalizeAndValidateConfig()</code> function.</li><li>if the field is now in the <code>EnvironmentDeprecated</code> interface then add the call to the <code>normalizeAndValidateEnvironment()</code> function.</li></ul></li><li>add validation and normalization to the interface <ul data-s="27576"><li>if the field is in <code>ConfigFields</code> then add validation calls to <code>normalizeAndValidateConfig()</code> and assign the normalized value to the appropriate property in the <code>config</code> object.</li><li>if the field is in <code>EnvironmentInheritable</code> then call <code>inheritable()</code> in <code>normalizeAndValidateEnvironment()</code> and assign the normalized value to the appropriate property in the <code>environment</code> object.</li><li>if the field is in <code>EnvironmentNonInheritable</code> then call <code>notInheritable()</code> in <code>normalizeAndValidateEnvironment()</code> and assign the normalized value to the appropriate property in the <code>environment</code> object.</li></ul></li><li>update the tests in <code>configuration.test.ts</code><ul data-s="27577"><li>add to the <code>&quot;should use defaults for empty configuration&quot;</code> test to prove the correct default value is assigned</li><li>if the field is in <code>ConfigFields</code> add tests to the <code>&quot;top-level non-environment configuration&quot;</code> block to check the validation and normalization of values</li><li>if the field is in <code>EnvironmentInheritable</code> or <code>EnvironmentNonInheritable</code><ul data-s="27578"><li>add tests to the <code>&quot;top-level environment configuration&quot;</code> block to check the validation and normalization of values</li><li>add tests to the <code>&quot;named environment configuration&quot;</code> block to check the inheritance of values</li></ul></li></ul></li></ul><h3 id="remove-a-configuration-field" tabindex="-1" data-s="27579"><a class="header-anchor" href="#remove-a-configuration-field" aria-hidden="true">#</a> Remove a configuration field</h3><p data-s="27580">We should not just remove a field from use, since users would not know that this field is no longer needed, nor how to migrate to any new usage.<br> Instead we should first deprecate it, and then then remove it in a future major release.</p><ul data-s="27581"><li>move the field to a deprecation interface: <ul data-s="27582"><li>if the field was originally in <code>ConfigFields</code> then move it to the <code>ConfigDeprecated</code> interface.</li><li>if the field was originally in either <code>EnvironmentInheritable</code> or <code>EnvironmentNonInheritable</code> then move it to the <code>EnvironmentDeprecatedInterface</code>.</li></ul></li><li>remove the validation for the field <ul data-s="27583"><li>the TypeScript compiler should indicate where there is now an unknown field, so that you can remove its validation and normalization from the code base.</li></ul></li><li>add a deprecation warning by calling <code>deprecated()</code><ul data-s="27584"><li>if the field is now in the <code>ConfigDeprecated</code> interface then add the call to the <code>normalizeAndValidateConfig()</code> function.</li><li>if the field is now in the <code>EnvironmentDeprecated</code> interface then add the call to the <code>normalizeAndValidateEnvironment()</code> function.</li></ul></li><li>update the tests in <code>configuration.test.ts</code><ul data-s="27585"><li>Find tests where the field is mentioned and either remove them (e.g. validation) or update to show the deprecation message.</li></ul></li></ul></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/liuli-moe/to-the-stars/edit/master/packages/workers/node_modules/wrangler/src/config/README.md" rel="noopener noreferrer" target="_blank" aria-label="在 GitHub 上编辑此页"><!--[--><!--]--> 在 GitHub 上编辑此页 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!----><!----></footer><!----><!--[--><!--[--><!----><!--]--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.61d52ebc.js" defer></script>
  </body>
</html>
